<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>瘋資股</title>
    <link rel="stylesheet" href="css/login.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@200;400;800&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="css/index.css">
</head>

<body>
    <%- include('login.ejs') %>
        <!-- 遮罩div -->
        <!-- 標題主選單 -->
        <!-- 登入註冊彈出視窗 -->
        <!-- 註冊畫面 -->
        <!-- 登入畫面 -->
        <!-- 內容 -->

        <!-- 加入自選股 -->
        <div id="particles-js"></div>
        <script src="javascript/index_particles.js"></script>
        <script src="javascript/index_app.js"></script>

        <div class="index_1">
            <div class="index_2">
                <div class="index_slogan">
                    <span>掌</span>
                    <span>握</span>
                    <span>未</span>
                    <span>來</span>
                    <span>，</span>
                    <span>從</span>
                    <span>這</span>
                    <span>開</span>
                    <span>始</span>
                    <br><br>
                    <span>您</span>
                    <span>的</span>
                    <span>財</span>
                    <span>富</span>
                    <span>，</span>
                    <span>我</span>
                    <span>們</span>
                    <span>專</span>
                    <span>注</span>
                </div>
                <div class="index_btnn">
                    <a href="#section2" class="index_btn">&nbsp;▼&nbsp;&nbsp;Start Now&nbsp;&nbsp;▼&nbsp;</a>
                </div>
            </div>
            <div class="index_img"><img src="images/index_img.png" alt="main"></div>
        </div>
        <div class="index_row">
            <div class="index_3">
                <div class="index_img_1"><img class="animate__animated animate__fadeInDown" src="images/Binoculars.png"
                        alt="探索">
                </div>
                <div class="index_mix">
                    <div class="index_slogan_1">
                        <p class="animate__animated animate__fadeInDown">全球視野，本地洞見</p>
                    </div>
                    <div class="index_min">
                        <p class="animate__animated animate__fadeInDown">新興成熟市場，投資見解提供，開拓更多獲利契機。</p>
                    </div>
                </div>
                <div class="spacer"></div>
                <div class="index_line"></div>
                <div class="spacer"></div>
            </div>

            <div class="index_3">
                <div class="index_img_1"><img class="animate__animated animate__fadeInDown" src="images/Idea.png"
                        alt="探索"></div>
                <div class="index_mix">
                    <div class="index_slogan_1">
                        <p class="animate__animated animate__fadeInDown">專業分析，深度洞察</p>
                    </div>
                    <div class="index_min">
                        <p class="animate__animated animate__fadeInDown">匯集專業觀點，全面評估投資，發揮更大收益潛力。</p>
                    </div>
                </div>
                <div class="spacer"></div>
                <div class="index_line"></div>
                <div class="spacer"></div>
            </div>

            <div class="index_3">
                <div class="index_img_1"><img class="animate__animated animate__fadeInDown" src="images/Ok.png"
                        alt="探索"></div>
                <div class="index_mix">
                    <div class="index_slogan_1">
                        <p class="animate__animated animate__fadeInDown">歷經市場，堅定實力</p>
                    </div>
                    <div class="index_min">
                        <p class="animate__animated animate__fadeInDown">市場驗證實力，經驗豐富團隊，股市為您創造回報。</p>
                    </div>
                    <div class="spacer_1"></div>
                </div>
            </div>
        </div>
        <div class="index_4" id="section2">
            <div class="index_slogan_2">
                <br><br><br>
                <a class="links" href="/stock" target="_blank"><span>即刻掌握最新盤勢</span></a>
                <div class="index_content">
                    <div class="index_stock">
                        <!-- 成交圖 -->

                        <canvas id="myChart"></canvas>

                    </div>
                </div>
            </div>
            <div class="index_partner"><span>推薦券商</span>
                <div class="index_box"><a href="https://www.tssco.com.tw/" target="_blank"><img src="images/Taishin 1.png"
                            alt="台新">台新證券</a>
                </div><br>
                <div class="index_box"><a href="https://www.yuanta.com.tw/eyuanta/" target="_blank"><img src="images/Yuanta1.png"
                            alt="元大">元大證券</a></div><br>
                <div class="index_box"><a href="https://www.emega.com.tw/index.do" target="_blank"><img src="images/Mega1.png"
                            alt="兆豐">兆豐證券</a>
                </div>
            </div>
            
        </div>
         

        <div class="index_5">
            <div>
                <a class="links" href="/article" target="_blank"><span>會員精選股市文章</span></a>            
                <div class="index_content1">
                    <div class="index_box1" onclick="window.open(`/article/inside/<%= tag%>`,'_self')">
                        <div class="index_boximg"><%- body.substring(body.search(/<img.+?>/g),body.indexOf(">",body.search(/<img.+?>/g))+1) %>
                        </div>
                        <hr><br>
                        <div class="index_boxfont" >
                            <p class="index_fonta"><%= title%></p>
                            <!-- <p class="index_fontb"><%= body.substring(body.indexOf("<p>"),body.indexOf("</p>")+4).replace(/<\/?.+?>/g,'').replace(/ /g,'');%></p> -->
                        </div>
                    </div>
                    <div class="index_box1" onclick="window.open(`/article/inside/<%= tag1%>`,'_self')">
                        <div class="index_boximg"><%- body1.substring(body1.search(/<img.+?>/g),body1.indexOf(">",body1.search(/<img.+?>/g))+1) %>
                        </div>
                        <hr><br>
                        <div class="index_boxfont">
                            <p class="index_fonta"><%= title1%></p>
                            <!-- <p class="index_fontb"><%= body1.substring(body1.indexOf("<p>"),body1.indexOf("</p>")+4).replace(/<\/?.+?>/g,'').replace(/ /g,'');%></p> -->
                        </div>
                    </div>
                    <div class="index_box1"  onclick="window.open(`/article/inside/<%= tag2%>`,'_self')">
                        <div class="index_boximg"><%- body2.substring(body2.search(/<img.+?>/g),body2.indexOf(">",body2.search(/<img.+?>/g))+1) %>
                        </div>
                        <hr><br>
                        <div class="index_boxfont">
                            <p class="index_fonta"><%= title2%></p>
                            <!-- <p class="index_fontb"><%= body2.substring(body2.indexOf("<p>"),body2.indexOf("</p>")+4).replace(/<\/?.+?>/g,'').replace(/ /g,'');%></p> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script>
            // 获取要滚动到的目标元素
            var targetElement = document.getElementById('section2');

            // 添加点击事件处理程序到链接
            document.querySelector('.index_btn').addEventListener('click', function (e) {
                e.preventDefault(); // 阻止默认的跳转行为

                // 计算目标元素的位置
                var targetPosition = targetElement.getBoundingClientRect().top;

                // 滚动到目标位置
                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth' // 平滑滚动
                });
            });

            Chart.defaults.color = '#FFFFFF';
Chart.defaults.font.size = 24;
Chart.defaults.font.weight = 800;
            const ctx = document.getElementById('myChart');

            const labels = ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月'];   // 设置 X 轴上对应的标签
            const data = {
                labels: labels,
                datasets: [
                    {
                        label: '鴻海',
                        data: [300, 800, 1000, 110, 200, 400, 80, 20, 60, 90, 100, 500],
                        backgroundColor: "rgb(255,255, 200)",
                        borderColor: "rgb(255,255, 200)",
                        label: '大盤指數',
                    },
                ]
            };
            const config = {
                type: 'line', // 设置图表类型
                data: data,
            };
            const myChart = new Chart(ctx, config);

            //平行滑入
            // let boxes = document.querySelectorAll(".index_content1");

            // window.addEventListener("scroll", checkBoxes);
            // checkBoxes();

            // function checkBoxes() {
            //     let triggerBottom = window.innerHeight * 0.8;
            //     boxes.forEach((box) => {
            //         let boxTop = box.getBoundingClientRect().top;
            //         if (boxTop < triggerBottom) {
            //             box.classList.add("show");
            //         } else {
            //             box.classList.remove("show");
            //         }
            //     });
            // }

            //縮小放大
            // 获取要触发动画的元素
            const canvasElement = document.getElementById('myChart');

            // 监听滚动事件
            window.addEventListener('scroll', () => {
                // 获取元素的位置信息
                const rect = canvasElement.getBoundingClientRect();

                // 检查元素是否进入视口
                if (rect.top >= 0 && rect.bottom <= window.innerHeight) {
                    // 如果元素完全进入视口，则应用放大动画
                    canvasElement.style.transform = 'scale(1)'; // 放大到原始大小
                    canvasElement.style.transition = 'transform 0.8s ease'; // 添加过渡效果
                } else {
                    // 如果元素不在视口内，则重置样式
                    canvasElement.style.transform = 'scale(0.5)'; // 缩小
                    canvasElement.style.transition = 'none'; // 移除过渡效果
                }
            });

            // 获取所有的.index_box元素
            const indexBoxes = document.querySelectorAll('.index_box');

            // 监听滚动事件
            window.addEventListener('scroll', () => {
                indexBoxes.forEach((box) => {
                    // 获取元素的位置信息
                    const rect = box.getBoundingClientRect();

                    // 检查元素是否进入视口
                    if (rect.top >= 0 && rect.bottom <= window.innerHeight) {
                        // 如果元素完全进入视口，则应用放大动画
                        box.style.transform = 'scale(1)'; // 放大到原始大小
                        box.style.transition = 'transform 0.8s ease'; // 添加过渡效果
                    } else {
                        // 如果元素不在视口内，则重置样式
                        box.style.transform = 'scale(0.5)'; // 缩小
                        box.style.transition = 'none'; // 移除过渡效果
                    }
                });
            });


            //縮小放大



        </script>


</body>

</html>